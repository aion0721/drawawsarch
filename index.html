<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>01 Draggable | jQuery UI / Drag and Drop</title>
  <script src="./js/html2canvas.js"></script>
  <link rel="stylesheet" href="./css/jquery-ui.css">
</head>
<body>
<style>
  body {
    margin: 20px;
  }
  .item {
    padding: 10px;
    width: 80px;
    height: 80px;
    background-color: #2e6da4;
    color: #FFFFFF;
  }
  .item:hover {
    cursor: pointer;
  }
  #area{
      height: 500px;
      width: 500px;
      border: solid;
  }
</style>

<div id="container">
  <div class="item">
    <p>ドラッグしてください</p>
  </div>
</div>

<script src="./js/jquery.js"></script>
<script src="./js/jquery-ui.js"></script>
<script>
  $(function() {
    $('.item').draggable();
    $('#appendButton').on('click', function(){
        $('<img src="./img/youtuber.png" alt="youtuber"></img>').draggable().appendTo('#base');
    })
    $('#download-btn').on('click', function(){
      html2canvas(document.querySelector("#area")).then(canvas => { 
      let downloadEle = document.createElement("a");
      downloadEle.href = canvas.toDataURL("image/png");
      downloadEle.download = "canvas.png";
      downloadEle.click();
    });
  })
  $("#area").resizable();
  });
</script> 
<input id="download-btn" type="button" value="download image">
<button id="appendButton">ADDIMAGE</button>
<div id="area">
    <p id="base"></p>
</div>
</body>
</html>